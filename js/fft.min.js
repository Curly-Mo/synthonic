!function(p,A){function r(b){return A.isComplexArray(b)&&b||new t(b)}function y(b,z){var f=b.length;if(f&f-1){var f=b.length,a,c,k,e,d,h,u,n,g,m,l,q,v;if(1!==f){k=new t(f,b.ArrayType);b:{a=3;for(c=B(f);a<=c;){if(0===f%a){n=a;break b}a+=2}n=f}g=f/n;m=1/B(n);l=new t(g,b.ArrayType);for(c=0;c<n;c++){for(a=0;a<g;a++)l.real[a]=b.real[a*n+c],l.imag[a]=b.imag[a*n+c];1<g&&(l=y(l,z));h=C(2*w*c/f);u=(z?-1:1)*D(2*w*c/f);e=1;for(a=d=0;a<f;a++)q=l.real[a%g],v=l.imag[a%g],k.real[a]+=e*q-d*v,k.imag[a]+=e*v+d*q,q=
e*h-d*u,d=e*u+d*h,e=q}for(a=0;a<f;a++)b.real[a]=m*k.real[a],b.imag[a]=m*k.imag[a]}return b}var f=b.length,p,r;k=b.length;a={};for(c=0;c<k;c++){e=c;d=k;for(h=0;1<d;)h<<=1,h+=e&1,e>>=1,d>>=1;d=h;a.hasOwnProperty(c)||a.hasOwnProperty(d)||(e=b.real[d],b.real[d]=b.real[c],b.real[c]=e,e=b.imag[d],b.imag[d]=b.imag[c],b.imag[c]=e,a[c]=a[d]=!0)}c=b.real;e=b.imag;for(g=1;g<f;){u=C(w/g);n=(z?-1:1)*D(w/g);for(k=0;k<f/(2*g);k++)for(d=1,a=h=0;a<g;a++)m=2*k*g+a,l=m+g,q=c[m],v=e[m],p=d*c[l]-h*e[l],r=h*c[l]+d*e[l],
c[m]=x*(q+p),e[m]=x*(v+r),c[l]=x*(q-p),e[l]=x*(v-r),m=d*u-h*n,h=d*n+h*u,d=m;g<<=1}return b}var t=A.ComplexArray,w=Math.PI,x=Math.SQRT1_2,B=Math.sqrt,C=Math.cos,D=Math.sin;t.prototype.FFT=function(){return y(this,!1)};p.FFT=function(b){return r(b).FFT()};t.prototype.InvFFT=function(){return y(this,!0)};p.InvFFT=function(b){return r(b).InvFFT()};t.prototype.frequencyMap=function(b){return this.FFT().map(b).InvFFT()};p.frequencyMap=function(b,p){return r(b).frequencyMap(p)}}("undefined"===typeof exports&&
(this.fft={})||exports,"undefined"===typeof require&&this.complex_array||require("./complex_array"));
