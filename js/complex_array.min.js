!function(f,g){function k(a){a.forEach||(a.forEach=function(a){var c,d=this.length;for(c=0;c<d;c++)a(this[c],c,d)});return a}var l=Float32Array,m=Math.sqrt,h,e;f.isComplexArray=h=function(a){return a!==g&&a.hasOwnProperty!==g&&a.hasOwnProperty("real")&&a.hasOwnProperty("imag")};f.ComplexArray=e=function(a,b){h(a)?(this.ArrayType=a.ArrayType,this.real=new this.ArrayType(a.real),this.imag=new this.ArrayType(a.imag)):(this.ArrayType=b||l,this.real=new this.ArrayType(a),this.imag=new this.ArrayType(this.real.length));
this.length=this.real.length};e.prototype.toString=function(){var a=[];this.forEach(function(b,c){a.push("("+b.real.toFixed(2)+","+b.imag.toFixed(2)+")")});return"["+a.join(",")+"]"};e.prototype.map=function(a){var b,c=this.length,d={};for(b=0;b<c;b++)d.real=this.real[b],d.imag=this.imag[b],a(d,b,c),this.real[b]=d.real,this.imag[b]=d.imag;return this};e.prototype.forEach=function(a){var b,c=this.length,d={};for(b=0;b<c;b++)d.real=this.real[b],d.imag=this.imag[b],a(d,b,c)};e.prototype.conjugate=function(){return(new e(this)).map(function(a){a.imag*=
-1})};e.prototype.magnitude=function(){var a=new this.ArrayType(this.length);this.forEach(function(b,c){a[c]=m(Math.pow(b.real,2)+Math.pow(b.imag,2))});return k(a)}}("undefined"===typeof exports&&(this.complex_array={})||exports);
